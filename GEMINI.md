# Gemini 작업 컨텍스트

## 디렉토리 개요

이 디렉터리는 강의 자료를 생성하고 관리하기 위한 공간입니다. 루트에는 `lecture-01-ai-data-coding`, `lecture-02-프로젝트공유`처럼 강의별 폴더가 있으며, 각 폴더는 본문 슬라이드(`lecture.md` 또는 `project_sharing_presentation.md`), 세부 파트 파일(`part-0x.md`), 시각 자료를 담는 `images/`를 포함합니다. 공통 스크립트(`generate-presentation.sh`)와 참고 문서는 루트에 보관하며, 새 강의는 `lecture-XX-topic` 패턴의 별도 폴더를 만들어 동일한 구조를 유지합니다.

## 작업 흐름

각 강의는 자체 폴더 내에서 기획 → 초안 작성 → 검토 → 최종 슬라이드 생성의 순서로 진행됩니다. 대화를 통해 초안을 발전시키고, 중간 산출물은 `part-0x.md`로 분리해 관리합니다. 최종 확정본은 `lecture.md` 또는 모듈별 메인 마크다운에 병합하고, HTML·PDF 등 배포물은 동일 폴더에 생성합니다.

## 핵심 목표

마크다운 파일을 사용하여 프레젠테이션 슬라이드(PPT/HTML/PDF)를 생성하고, 강의별 산출물을 일관된 구조로 보존하는 것이 핵심입니다.

## 권장 도구: Marp

`Marp`는 마크다운으로 프레젠테이션을 제작할 때 사용하는 표준 도구입니다. CLI 설치 여부를 수시로 확인하고, 강의별 빌드 스크립트(`generate-presentation.sh`)와 함께 사용합니다.

## 마크다운 작성 규칙

마크다운 파일 생성 시 다음 규칙을 준수합니다.

* **헤딩(Headings):** 제목이나 섹션 구분 시 `**` 대신 `#`, `##`, `###` 등을 사용합니다. (MD036)
* **목록 들여쓰기(List Indentation):** 중첩된 목록은 상위 목록보다 2칸 들여쓰기합니다. (MD007)
* **목록 마커 공백(List Marker Space):** 목록 마커 뒤에는 항상 1칸의 공백만 사용합니다. (MD030)
* **헤딩 주변 공백(Blanks around headings):** 헤딩 위아래에는 한 줄씩 비워둡니다. (MD022)
* **목록 주변 공백(Blanks around lists):** 목록 위아래에는 한 줄씩 비워둡니다. (MD032)
* **중복 헤딩 금지(No duplicate headings):** 한 문서 내 동일 제목을 반복하지 않습니다. (MD024)
* **레이아웃 규칙:** 모든 슬라이드는 Marp 프런트매터(`marp: true`, `size: 16:9`)를 포함하고 `---`로 슬라이드를 구분합니다.
* **이름 규칙:** 디렉터리는 소문자 케밥 케이스(`lecture-xx-topic`), 이미지 파일은 `img_1_1_daily_losses.svg`처럼 snake_case와 순번 조합을 사용합니다.
* **스크립트 스타일:** 셸 스크립트는 POSIX 호환 문법과 두 칸 들여쓰기를 유지하며, 필요한 경우에만 한글·영문 병기 주석을 추가합니다.

## 이미지 생성 프로세스

강의안에 필요한 시각 자료는 다음의 프로세스를 통해 생성합니다.

1. **한계 인지:** AI는 로고, 인포그래픽, 복잡한 그림 등 시각적 이미지를 직접 '창작'할 수 없습니다.
2. **SVG 다이어그램 생성:** 대신, 요청된 내용을 이해하여 '박스 + 텍스트 + 화살표' 형태의 단순화된 SVG 다이어그램을 코드로 직접 작성합니다. 이는 개념의 관계를 표현하는 데 목적이 있습니다.
3. **한계 적용:** 이 방법으로 표현하기 어려운 복잡한 시각 자료는 내용을 설명하는 텍스트를 담은 SVG 플레이스홀더로 생성될 수 있습니다.
4. **로그 확인:** 생성된 모든 이미지의 의도와 내용은 `images/image-log.md` 파일에 기록하여, 추후 실제 이미지로 교체할 때 참고합니다.

## 빌드 · 테스트 · 개발 명령

* `./generate-presentation.sh <폴더> <파일.md>`: 지정한 마크다운을 Marp로 HTML로 변환합니다. 실행 전 `marp` CLI가 PATH에 있어야 합니다.
* `marp <폴더>/<파일.md> --watch`: 편집 중 자동으로 HTML을 재생성하여 라이브 프리뷰를 제공합니다.
* `marp <폴더>/<파일.md> --pdf`: 로컬에서 PDF가 필요할 때 사용하며 Puppeteer 의존성이 갖춰져 있어야 합니다.
* `marp <폴더>/<파일.md> --pptx`: 필요 시 바로 PPTX를 생성할 수 있습니다.

## 검수 및 테스트 절차

* 콘텐츠 수정 후 `./generate-presentation.sh`를 실행해 HTML을 갱신하고, 브라우저에서 줄바꿈·폰트·이미지 경로를 확인합니다.
* 새 다이어그램이나 외부 자산을 추가했다면 `marp --preview` 또는 `--watch`로 즉시 렌더링 상태를 점검해 깨진 링크를 조기에 발견합니다.
* 한국어 텍스트는 줄바꿈이 쉽게 어긋날 수 있으므로 긴 문장은 불릿으로 분할하고, 강조 표현은 최소화합니다.
* HTML 산출물과 함께 `images/` 폴더가 올바르게 복사되었는지 확인해 배포 시 누락을 방지합니다.

## 커밋 및 PR 가이드

* 커밋 메시지는 `슬라이드 내용 잘림 문제 해결`, `Fix: ...`처럼 짧고 구체적으로 작성하며 72자를 넘기지 않습니다.
* 변경 범위가 강의 모듈 하나 이상일 경우 모듈명을 커밋 요약에 포함해 추적성을 높입니다.
* PR에는 변경한 강의 모듈, 생성물(HTML/PDF/PPTX) 목록, 관련 이슈나 강의 안건, 시각적 변경이 있을 경우 전후 비교 스크린샷을 첨부합니다.
* 리뷰 요청 전 `generate-presentation.sh` 결과물을 최신 상태로 갱신하고, 필요한 경우 산출물을 첨부합니다.

### 설치

`Marp`를 사용하기 위해선 Node.js와 npm이 설치되어 있어야 합니다. 다음 명령어를 사용하여 `Marp CLI`를 설치하세요.

```bash
npm install -g @marp-team/marp-cli
```

### 사용법

1. **마크다운 파일 작성:** 슬라이드는 `---` 구분자를 사용하여 나눕니다.

    **예시 (`lecture1.md`):**

    ```markdown
    ---
    marp: true
    size: 16:9
    ---

    # 1강: 시작하기

    이것은 첫 번째 슬라이드입니다.

    ---

    # 목차

    - 소개
    - 설치
    - 사용법

    ---

    # 마무리

    Q&A
    ```

2. **HTML/PPT 변환:** 터미널에서 다음 명령어를 실행하여 마크다운 파일을 변환할 수 있습니다.

    ```bash
    marp lecture1.md -o lecture1.html
    marp lecture1.md -o lecture1.pptx
    marp lecture1.md --pdf
    ```

이제 생성된 파일을 브라우저 또는 파워포인트에서 열어 최종 결과를 확인할 수 있습니다.
